# Сортировка людей по группам
После перевода отношений между людьми на математический язык, данная программа объединяет их в группы наиболее оптимальным способом на основе их предпочтений.

## Какие здесь файлы:
1. 200names.txt файл с именами, нужны для реалистичности сгенерированных таблиц.
2. alldef.py там функции, и они не использовались. Там мои и Ванины функции.
3. full_dict_relations2.txt сгенерированный рандомом файл отношений.
4. gen_relationships.py генератор таблицы предпочтений людей.
5. xlsx_to_dict.ipynb переводит эту таблицу в словарь full_dict_relations
6. sort.ipynb здесь алгоритм, то есть решение этой задачи.
7. table2.xlsx как примерно выглядит файл предпочтений.
8. get2solution.xlsx выгрузил уже состав групп после сортировки.

## В чём проблема:
1. Было 7 групп. На следующий год должно стать 6 групп. А каким образом, решаем сами.
2. За год люди поняли, кого любят, а кого нет. Хочется остаться с любимчиками.
3. Программа должна максимально учитывать пожелания людей.

## План моей работы:
1. Таблицу предпочтений людей перевести в список отношений.
2. Из этого списка отношений создать уже новые группы.

## Описание алгоритма:
У меня используется много функций для получения разных характеристик.
1. Пройтись по всем людям, и на каждой итерации добавлять к этому человеку лучшего человека 14 раз.
Так мы получим ~160 групп из 15 человек. Сохраняю сумму отношений. И нахожу группу с большей суммой отношений.
2. После этого повторяется процесс 1 для оставшихся 5 групп. При этом убираем людей после первой операции.
3. После этого запускается цикл, пока не распределятся оставшиеся люди. Его суть:
3. 1. На каждом цикле мы отбираем из каждой группы по 2 человека(параметр можно менять), которые вносят наименьший вклад в свою группу, добавляем к этим людям ещё одного из оставшегося списка. После этого создаём для каждого человека словарь, в котором записаны группы, переход в которые будет рациональным (то есть вклад человека в другую группу, например, не меньше чем в текущую группу, но этот параметр тоже регулируется). Для добавленного человека в качестве возможных групп прописываются все 6 групп. После этого происходит реализация всех комбинаций и сохраняется комбинация с наивысшей общей суммой.
3. 2. После 1 шага мы увеличили заполненность групп на 1 человека. Так, цикл идёт до конца. И удаляю такие комбинации, где количество людей > 30.
4. Выгружаем в табличку .xlsx. Смотрим, если что подкручиваем параметры, необходимые для генерации словаря отношений full_dict_relations, в таком случае генерируем словарь и заново запускаем сортировку.
